<c:FragmentDefinition
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:codeeditor="sap.ui.codeeditor"
>
    <Page>
        <customHeader>
            <OverflowToolbar>
                <Title
                    text="{i18n>lbl.response}"
                    titleStyle="H6"
                />
                <ToolbarSpacer />
                <SegmentedButton selectedKey="{local>/dataViewMode}" width="180px">
                    <items>
                        <SegmentedButtonItem
                            text="{i18n>lbl.json}"
                            icon="sap-icon://source-code"
                            key="json"
                        />
                        <SegmentedButtonItem
                            text="{i18n>lbl.table}"
                            icon="sap-icon://table-chart"
                            key="table"
                        />
                    </items>
                </SegmentedButton>
            </OverflowToolbar>
        </customHeader>
        <codeeditor:CodeEditor
            type="json"
            editable="false"
            value="{
                path: 'local>/response'
            }"
            visible="{= ${local>/dataViewMode} === 'json' }"
        />
        <ScrollContainer
            visible="{= ${local>/dataViewMode} === 'table' }"
            width="100%"
            height="100%"
        >
            <Table
                showNoData="false"
                id="idResponseTable"
            />
        </ScrollContainer>

        <footer>
            <OverflowToolbar>
                <!--<Text text="Status Code: {local>/statusCode}" />-->
                <ToolbarSpacer />
                <Button
                    text="{i18n>btn.download}"
                    icon="sap-icon://download"
                    press=".onSourceDownload"
                    enabled="{= ${local>/response}.length > 0 }"
                />
                <Button
                    text="{i18n>btn.copy}"
                    icon="sap-icon://copy"
                    press=".onSourceCopy"
                    enabled="{= ${local>/response}.length > 0 }"
                />
            </OverflowToolbar>
        </footer>
    </Page>
</c:FragmentDefinition>
