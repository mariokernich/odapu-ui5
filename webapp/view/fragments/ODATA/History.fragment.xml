<c:FragmentDefinition
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
>
    <Page>
        <customHeader>
            <OverflowToolbar>
                <Title
                    text="{i18n>lbl.requestHistory}"
                    titleStyle="H6"
                />
            </OverflowToolbar>
        </customHeader>
        <VBox class="sapUiContentPadding">
            <List
                items="{requestHistory>/}"
                showNoData="true"
                noDataText="{i18n>msg.noHistory}"
            >
                <CustomListItem
                    highlight="{= ${requestHistory>statusCode} === 200 ? 'Success' : ${requestHistory>statusCode} === 500 ? 'Error' : 'None'}"
                >
                    <HBox alignItems="Center" justifyContent="SpaceBetween" class="sapUiTinyMargin">
                        <VBox class="sapUiTinyMarginEnd">
                            <HBox alignItems="Center" class="sapUiTinyMarginBottom">
                                <Text
                                    text="{requestHistory>method} {requestHistory>entity}"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Text
                                    text="{requestHistory>timestamp}"
                                    class="sapUiTinyMarginEnd"
                                />
                            </HBox>
                            <HBox alignItems="Center" renderType="Bare">
                                <Label
                                    text="{i18n>lbl.statusCode}:"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Text
                                    text="{requestHistory>statusCode}"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Label
                                    text="{i18n>lbl.duration}:"
                                    class="sapUiTinyMarginEnd"
                                />
                                <Text
                                    text="{requestHistory>duration}"
                                />
                            </HBox>
                        </VBox>
                        <Button
                            icon="sap-icon://response"
                            tooltip="{i18n>lbl.viewResponse}"
                            press="onButtonViewResponsePress"
                            type="Transparent"
                        />
                    </HBox>
                </CustomListItem>
            </List>
        </VBox>
    </Page>
</c:FragmentDefinition>
